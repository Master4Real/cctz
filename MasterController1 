async function getGoogleStock() {
  try {
    const response = await fetch("https://query1.finance.yahoo.com/v7/finance/quote?symbols=GOOG");
    if (!response.ok) throw new Error("Network response was not ok");

    const data = await response.json();
    const result = data.quoteResponse?.result?.[0];

    if (result && result.regularMarketPrice !== undefined) {
      const price = result.regularMarketPrice.toFixed(2);
      document.getElementById("stockPrice").innerText = `$${price}`;
    } else {
      document.getElementById("stockPrice").innerText = "Data unavailable";
    }
  } catch (error) {
    console.error("Error fetching stock data:", error);
    document.getElementById("stockPrice").innerText = "Error loading data";
  }
}

// Refresh every 30 seconds
setInterval(getGoogleStock, 30000);
getGoogleStock();

This version adds error handling for network issues and missing data, formats the price to two decimal places, and ensures the page displays a clear message if something goes wrong.